name: build
on:
  push:
    branches:
       -  main

jobs: 
  build:
     name: Build
     runs-on: ubuntu-latest
     steps: 
       - name: Checkout repository
         uses: actions/checkout@v2

      # Step 2: Set up Node.js (Optional, but recommended for managing Node versions)
       - name: Set up Node.js
         uses: actions/setup-node@v2
         with:
          node-version: '16'
       - name: Install Dependencies
         run: npm install 
       - name: Docker build and Push
         run: |
           docker build -t swiggy-clone .
           docker tag swiggy-clone saki96b/swiggy-clone:latest
           docker login -u ${{secrets.Dockerhub_username}} -p $ {{secrets.Dockerhub_password}}    
           docker push saki96b/swiggy-clone:latest
